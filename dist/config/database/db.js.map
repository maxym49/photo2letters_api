{"version":3,"sources":["../../../src/config/database/db.js"],"names":["connect","mongoose","set","useUnifiedTopology","useCreateIndex","useNewUrlParser","then","log","info","error","console","connection","on","err"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,IAAMA,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC3BC,uBAASC,GAAT,CAAa,kBAAb,EAAiC,KAAjC;;AACAD,uBACGD,OADH,CACW,uBADX,EAC2B;AACvBG,IAAAA,kBAAkB,EAAE,IADG;AAEvBC,IAAAA,cAAc,EAAE,IAFO;AAGvBC,IAAAA,eAAe,EAAE;AAHM,GAD3B,EAMGC,IANH,CAMQ,YAAM;AACVC,uBAAIC,IAAJ,CAAS,yBAAT;AACD,GARH,WASS,UAAAC,KAAK;AAAA,WAAIC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAJ;AAAA,GATd;;AAWAR,uBAASU,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAAAC,GAAG,EAAI;AACrCN,uBAAIE,KAAJ,CAAUI,GAAV;AACD,GAFD;AAGD,CAhBM","sourcesContent":["import mongoose from 'mongoose';\r\nimport log from '../../tools/console/logger';\r\nimport { decryptToken } from '../../security/database/db.security';\r\n\r\nexport const connect = () => {\r\n  mongoose.set('useFindAndModify', false);\r\n  mongoose\r\n    .connect(decryptToken(), {\r\n      useUnifiedTopology: true,\r\n      useCreateIndex: true,\r\n      useNewUrlParser: true\r\n    })\r\n    .then(() => {\r\n      log.info('The database is running');\r\n    })\r\n    .catch(error => console.error(error));\r\n\r\n  mongoose.connection.on('error', err => {\r\n    log.error(err);\r\n  });\r\n};\r\n"],"file":"db.js"}