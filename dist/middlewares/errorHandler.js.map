{"version":3,"sources":["../../src/middlewares/errorHandler.js"],"names":["errorHandler","err","req","res","log","error","status","json","message","name"],"mappings":";;;;;;;AAAA;;;;AAEO,SAASA,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,GAAhC,EAAqC;AAC1CC,qBAAIC,KAAJ,CAAUJ,GAAV;;AACA,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B;AACA,WAAOE,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAEP,GAAG,CAACO;AAAf,KAArB,CAAP;AACD;;AAED,MAAIP,GAAG,CAACQ,IAAJ,KAAa,iBAAjB,EAAoC;AAClC;AACA,WAAON,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAEP,GAAG,CAACO;AAAf,KAArB,CAAP;AACD;;AAED,MAAIP,GAAG,CAACQ,IAAJ,KAAa,mBAAjB,EAAsC;AACpC;AACA,WAAON,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD,GAfyC,CAiB1C;;;AACA,SAAOL,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAEP,GAAG,CAACO;AAAf,GAArB,CAAP;AACD","sourcesContent":["import log from '../tools/console/logger';\r\n\r\nexport function errorHandler(err, req, res) {\r\n  log.error(err);\r\n  if (typeof err === 'string') {\r\n    // custom application error\r\n    return res.status(400).json({ message: err.message });\r\n  }\r\n\r\n  if (err.name === 'ValidationError') {\r\n    // mongoose validation error\r\n    return res.status(400).json({ message: err.message });\r\n  }\r\n\r\n  if (err.name === 'UnauthorizedError') {\r\n    // jwt authentication error\r\n    return res.status(401).json({ message: 'Invalid Token' });\r\n  }\r\n\r\n  // default to 500 server error\r\n  return res.status(500).json({ message: err.message });\r\n}\r\n"],"file":"errorHandler.js"}