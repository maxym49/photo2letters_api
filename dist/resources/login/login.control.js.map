{"version":3,"sources":["../../../src/resources/login/login.control.js"],"names":["loginUser","req","res","next","login","user","session","err","status","end","error","token","json"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBF,YAAAA,GAAG,CAACG,KAAJ,CAAUH,GAAG,CAACI,IAAd,EAAoB;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAApB,EAAwC,UAAAC,GAAG,EAAI;AAC7C,kBAAIA,GAAJ,EAASL,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACV,aAFD;AADgB;AAAA,mBAII,wBAAaR,GAAG,CAACI,IAAjB,WAA6B,UAAAK,KAAK;AAAA,qBAAIP,IAAI,CAACO,KAAD,CAAR;AAAA,aAAlC,CAJJ;;AAAA;AAIVC,YAAAA,KAJU;AAKhBA,YAAAA,KAAK,GACDT,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB;AACnBD,cAAAA,KAAK,mBAAYA,KAAZ;AADc,aAArB,CADC,GAIDT,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,EAJJ;;AALgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATT,SAAS;AAAA;AAAA;AAAA,GAAf","sourcesContent":["import { authenticate } from '../../services/user.service';\r\n\r\nconst loginUser = async (req, res, next) => {\r\n  req.login(req.user, { session: false }, err => {\r\n    if (err) res.status(500).end();\r\n  });\r\n  const token = await authenticate(req.user).catch(error => next(error));\r\n  token\r\n    ? res.status(200).json({\r\n        token: `Bearer ${token}`\r\n      })\r\n    : res.status(403).end();\r\n};\r\n\r\nexport { loginUser };\r\n"],"file":"login.control.js"}